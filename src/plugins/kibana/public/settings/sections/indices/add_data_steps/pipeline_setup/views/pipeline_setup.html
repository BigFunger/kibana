<h2>
  <em>Let's build a pipeline!</em> Ingest pipelines are an easy way to modify documents before they're indexed in Elasticsearch. They're composed of processors which can change your data in many ways. Create a pipeline below while cycling through your samples to see its effect on your data.
</h2>
<div class="main-panels">
  <div
    ng-hide="expandContext < 1"
    class="left-panel">
    <label>
      Pipeline Details
    </label>
    <div class="pipeline-details panel">
      <pipeline-details pipeline="pipeline"></pipeline-details>
    </div>
    <label>
      Pipeline Processors
      <a
        aria-label="A pipeline is a definition of a series of processors that are to be executed in the same order as they are declared."
        tooltip="A pipeline is a definition of a series of processors that are to be executed in the same order as they are declared."
        tooltip-append-to-body="true"
        target="_blank">
        <i aria-hidden="true" class="fa fa-question-circle"></i>
      </a>
    </label>
    <div class="pipeline panel">
      <div
        class="error-path-header"
        ng-show="pipeline.processorCollections.length > 0">
        <label>You are currently editing an error branch. (name something better)</label>
        <button
          class="btn btn-primary"
          ng-click="pipeline.popProcessorCollection()">
          Return
        </button>
      </div>

      <ul
        class="pipeline-container"
        ng-show="pipeline.activeProcessorCollection.processors.length > 0">
        <li ng-repeat="processor in pipeline.activeProcessorCollection.processors track by processor.processorId">
          <processor-ui-container
            pipeline="pipeline"
            processor-collection="pipeline.activeProcessorCollection"
            processor="processor">
          </processor-ui-container>
        </li>
      </ul>

      <div class="add-processor">
        <div
          class="form-group"
          ng-hide="pipeline.activeProcessorCollection.processors.length > 0">
          <label>
            Your pipeline is currently empty. Add a processor to get started!
          </label>
        </div>

        <div class="add-processor-dropdown">
          <processor-select processor-type-id="processorTypeId"></processor-select>
        </div>
      </div>
    </div>
  </div>
  <div class="center-panel">
    <div class="buttons">
      <button
        aria-label="{{expandContext > 1 ? 'Expand Right Panel' : 'Collapse Left Panel'}}"
        tooltip="{{expandContext > 1 ? 'Expand Right Panel' : 'Collapse Left Panel'}}"
        ng-click="expandContext = expandContext - 1"
        ng-disabled="expandContext < 1"
        type="button"
        class="btn btn-primary btn-xs collapser">
        <i aria-hidden="true" class="fa fa-chevron-circle-left"></i>
      </button>
      <button
        aria-label="{{expandContext < 1 ? 'Expand Left Panel' : 'Collapse Right Panel'}}"
        tooltip="{{expandContext < 1 ? 'Expand Left Panel' : 'Collapse Right Panel'}}"
        ng-click="expandContext = expandContext + 1"
        ng-disabled="expandContext > 1"
        type="button"
        class="btn btn-primary btn-xs collapser">
        <i aria-hidden="true" class="fa fa-chevron-circle-right"></i>
      </button>
    </div>
  </div>
  <div
    ng-hide="expandContext > 1"
    class="right-panel">
    <label>
      Pipeline Inputs
    </label>
    <div class="pipeline-input panel">
      <pipeline-input pipeline="pipeline" samples="samples" sample="sample"></pipeline-input>
    </div>
    <pipeline-output pipeline="pipeline" samples="samples" sample="sample"></pipeline-output>
  </div>
</div>
<pipeline-crud pipeline="pipeline"></pipeline-crud>
