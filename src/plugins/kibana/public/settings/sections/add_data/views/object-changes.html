<div>
  <pre>{{test | json}}</pre>
</div>
<div>
  <pre>{{test2}}</pre>
</div>

<style>
  .line {
    font-family: Menlo, Monaco, Consolas, "Courier New", monospace;
  }

  .line.neutral {
    background-color: #ecf0f1;
  }

  .line.added {
    background-color: #98e163;
  }

  .line.removed {
    background-color: #de8c8c;
  }
</style>

<div>
  <div
    class="line"
    ng-class="{ added: line.state === 'added', removed: line.state === 'removed' }"
    ng-repeat="line in lines">
    <span ng-bind-html="line.text"></span>
  </div>
</div>
