import _ from 'lodash';

export default {
  kibanaToEs: function (processorApiDocument, ingestManager) {
    const result = _.map(processorApiDocument, (processor) => {
      //const processorConverter = processorConverters[processor.type_id];
      const processorConverter = ingestManager.processors.converters[processor.type_id];
      return processorConverter.kibanaToEs(processor);
    });

    return result;
  },
  esToKibana: function (processorEsDocument, ingestManager) {
    const result = _.map(processorEsDocument, (processor) => {
      const typeId = _.keys(processor)[0];
      //const processorConverter = processorConverters[typeId];
      const processorConverter = ingestManager.processors.converters[typeId];
      return processorConverter.esToKibana(processor, typeId);
    });

    return result;
  }
};
